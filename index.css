* {
  box-sizing: border-box;
}

body, html {
  margin: 0;
  padding: 0;
  overflow: hidden;
  width: 100%;
  height: 100%;
  background-color: lightgrey;
  position: relative;
}

div.stage {
  margin: 100px 50px;
  position: relative;
}

div.buttons {
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 10px;
  width: 20%;
  height: 100%;
  background-color: white;
  position: absolute;
  top: 50px;
  right: 0px;
}

div.toolbar {
  display: flex;
  align-items: stretch;
  width: 100%;
  height: 50px;
  background-color: white;
  position: absolute;
  top: 0px;
  right: 0px;
  left: 0px;
}

div.buttons .btn {
  padding: 5px 0;
}

div.toolbar .btn {
  padding: 5px 15px;
}

.btn-mode.active {
  border: solid 2px #5a5a5a;
  border-radius: 3px;
  background-color: #bfbfbf;
}

.btn-mode.active:focus-visible {
  border-width: 3px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

.label.align-right {
  justify-content: flex-end;
}

.label.align-left {
  justify-content: flex-start;
}

.label {
  display: flex;
  align-items: center;
  font-family: sans-serif;
  font-weight: 600;
  color: #fff;
  padding: 0 6px;
  user-select: none;
}

div.stage.edit .grid {
  visibility: visible;
}

div.stage.edit .cell {
  border-right: 1px solid #333;
  border-bottom: 1px solid #333;
}

.toggle-btn-group {
  padding: 5px 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  border-left: solid 1px #d3d3d3;
}

.toggle-btn-group:first-child {
  border-left: 0;
}

.player::before {
  background-repeat: no-repeat;
  background-size: 100%;
  background-position: center;
  content:"";
  width:100%;
  height:100%;
  position: absolute;
}

/* Player idle up */
.player.face-se::before {
  background-image: url(./img/player-down.svg);
}
.player.face-sw::before {
  background-image: url(./img/player-down.svg);
  transform: scaleX(-1); /* Face left */
}

/* Player idle down */
.player.face-ne::before {
  background-image: url(./img/player-up.svg);
}
.player.face-nw::before {
  background-image: url(./img/player-up.svg);
  transform: scaleX(-1); /* Face left */
}

/* Player win */
.player.state-win.face-ne::before,
.player.state-win.face-se::before {
  background-image: url(./img/player-win.svg);
}
.player.state-win.face-nw::before,
.player.state-win.face-sw::before {
  background-image: url(./img/player-win.svg);
  transform: scaleX(-1); /* Face left */
}

/* Player push */
.player.state-push-up::before {
  background-image: url(./img/player-up.svg);
}
.player.state-push-down::before {
  background-image: url(./img/player-down.svg);
  transform: scaleX(-1); /* Face left */
}
.player.state-push-right::before {
  background-image: url(./img/player-push.svg);
}
.player.state-push-left::before {
  background-image: url(./img/player-push.svg);
  transform: scaleX(-1); /* Face left */
}


.player,
.box,
.label {
  pointer-events: none;
  position: relative;
}

.box {
  background-image: url(./img/box-2.svg);
}

.box.state-win{
  /* opacity: 0.7; */
}

.cell.type-0 { /* empty */
  background-color: #fff;
}

.cell.type-1 { /* wall */
  background-color: #693f4a;
}

/* ground  */
.cell.type-2 {
  background-image: url(./img/ground.svg);
}


.cell.type-3 { /* crystal  */
  background-image: url(./img/crystal-7.svg);
  background-color: #ecd4b8;
}

.stage div{
  background-repeat: no-repeat;
  background-size: 100%;
  background-position: center;
}
